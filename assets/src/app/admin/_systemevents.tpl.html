<section class="intro medium-6">
  <h2>Event log</h2>
</section>

<div class="left">
	<a class="success button" ng-click="timeWindow=0">Show all</a>
	<a class="success button" ng-click="filterDay()"> Show day</a>
	<a class="success button" ng-click="filterMonth()">Show month</a>
	Search: <input ng-model="searchText">
</div>
<div class="right">
	<a class="button secondary" ng-click="requestClearing()">Clear history</a>
</div>

<table id="searchTextResults">
	<tr class="row">
		<th class="small-2 columns"> Time</td>
		<th class="small-2 columns"> Event </td>
		<th class="small-8 columns"> Details </td>
	</tr>
	<tr class="row" ng-repeat="event in systemEvents | filter:searchText | filter :{createdAt:timeWindow} :tstampgt |  orderBy:predicate">
		<td class="small-2 columns"> {{event.createdAt | amCalendar}} </td>
		<td class="small-2 columns"> {{event.name}}</td>
		<td class="small-8 columns"> {{event.details}}</td>
	</tr>
</table>

<div> {{errors}}</div>

<div id="clearingPopup" class="reveal-modal" data-reveal>
  <h2><i class="fa fa-warning"></i> About to clear event history.<br>Are you sure?</h2>
  <div class="right">
    <a class="button secondary" ng-click="clearHistory()">Clear history</a>
    <a class="button secondary" ng-click="closeClModal()">Cancel</a>
  </div>
  <a class="close-reveal-modal">&#215;</a>
</div>

<div id="successPopup" class="reveal-modal" data-reveal>
  <h2><i class="fa fa-info-circle"></i> {{errors}}</h2>
  <div class="right">
    <a class="button secondary" ng-click="closeScModal()">OK</a>
  </div>
  <a class="close-reveal-modal">&#215;</a>
</div>